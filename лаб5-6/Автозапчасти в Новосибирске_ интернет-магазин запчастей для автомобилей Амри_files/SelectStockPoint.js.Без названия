(self.webpackChunkwar_lib_6=self.webpackChunkwar_lib_6||[]).push([[7148],{7669:function(t,e,n){"use strict";n.d(e,{u:function(){return i},Y:function(){return r}});var i=768,r=1280},34023:function(t,e,n){"use strict";n.d(e,{q5:function(){return i},EV:function(){return r},Jq:function(){return o}});var i="desktop",r="tablet",o="mobile"},5947:function(t,e,n){"use strict";n.d(e,{R:function(){return i},p:function(){return r}});var i="left",r="right"},33702:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});var i="selectStockPoint.selectStock"},18463:function(t,e,n){"use strict";var i=n(59713),r=n.n(i),o=n(52512);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}e.Z={data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o)}}},93568:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(31328),r=-1,o=1,s={itemsName:"items",activatorName:"isOpened",selectMethodName:"clickItemHandler",scrollToItemMethodName:"scrollToItem",onEscapeMethodName:"hideDropdown",onTabMethodName:"hideDropdown",startIndexName:"selectedItemIndex",data:function(){return{activeIndex:0}},created:function(){var t=this.$options,e=t.itemsName,n=t.activatorName,i=t.scrollToItemMethodName;e in this&&n in this&&"function"==typeof this[i]?this.$watch(n,this.$onActivatorChange):console.error("Keyboard mixin was applied but was not activated")},beforeDestroy:function(){document.removeEventListener("keydown",this.$keydownHandler)},methods:{$keydownHandler:function(t){var e=t.key;if("ArrowUp"===e)t.preventDefault(),this.$updateNextActiveIndex(r);else if("ArrowDown"===e)t.preventDefault(),this.$updateNextActiveIndex(o);else if("Enter"===e)t.preventDefault(),this.$selectItem();else if("Escape"===e){var n;null===(n=this[this.$options.onEscapeMethodName])||void 0===n||n.call(this)}else if("Tab"===e){var i;null===(i=this[this.$options.onTabMethodName])||void 0===i||i.call(this)}},$updateNextActiveIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this[this.$options.itemsName];if(e.length){var n=this.activeIndex+t;n<0&&(n=0),n>=e.length&&(n=e.length-1),this.activeIndex=n}else this.activeIndex=0},$onActivatorChange:function(t){var e,n,i,r,o=this,s=this.$options,a=s.itemsName,c=s.scrollToItemMethodName,l=s.startIndexName;if(t){if(i=this.$watch(a,(function(){return o.$updateNextActiveIndex()})),r=this.$watch("activeIndex",this[c]),document.addEventListener("keydown",this.$keydownHandler),l in this){var u=this[l];-1!==u&&(this.activeIndex=u)}}else document.removeEventListener("keydown",this.$keydownHandler),null===(e=i)||void 0===e||e(),null===(n=r)||void 0===n||n(),this.activeIndex=0},$selectItem:function(){var t=this.$options,e=t.selectMethodName,n=t.itemsName,i=this[e],r=this[n][this.activeIndex];r&&"function"==typeof i&&i(r)}}},a={mixins:[i.Z,s],props:{items:{type:Array,required:!0},value:{required:!0},valueKey:{type:[String,Number],default:"key"},titleKey:{type:String,default:"value"},name:{type:String,default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},objectMode:{type:Boolean,default:!1},optionStyles:{type:Object,default:function(){return{}}},activatorDataLocator:{type:String,default:null},messages:{type:Object,default:function(){return{notSelected:"-"}},validator:function(t){return["notSelected"].every((function(e){return e in t}))}}},model:{event:"change"},data:function(){return{isOpened:!1}},computed:{currentItem:function(){return this.findItemByValue(this.value)},selectedItemIndex:function(){var t=this;return this.items.findIndex((function(e){return e===t.currentItem}))},isItemSelected:function(){return null!==this.currentItem&&void 0!==this.currentItem},selectedItemTitle:function(){return this.getItemTitle(this.currentItem)},displayedValue:function(){var t;return null!==(t=this.selectedItemTitle)&&void 0!==t?t:this.emptyValueMessage},emptyValueMessage:function(){return this.label?this.label:this.messages.notSelected},showLabel:function(){return this.label&&this.isItemSelected}},methods:{setValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$emit("change",this.getItemValue(t))},showDropdown:function(){this.isOpened||(this.isOpened=!0,this.resetValidate())},hideDropdown:function(){this.isOpened&&(this.isOpened=!1,this.$nextTick(this.validate))},getItemTitle:function(t){return this.objectMode?null==t?void 0:t[this.titleKey]:null!=t?t:null},getItemValue:function(t){return this.objectMode?null==t?void 0:t[this.valueKey]:null!=t?t:null},findItemByValue:function(t){var e=this;return this.objectMode?this.items.find((function(n){return n[e.valueKey]===t})):t},isDivider:function(t){return"divider"===(null==t?void 0:t.type)},clickItemHandler:function(t){this.hideDropdown(),this.setValue(t)},toggleSelectActive:function(){this.disabled||(this.isOpened?this.hideDropdown():this.showDropdown())},scrollToItem:function(t){var e;null===(e=this.$refs.items[t])||void 0===e||e.scrollIntoView()}}}},31328:function(t,e){"use strict";e.Z={inject:{form:{from:"form",default:null}},data:function(){return{errorBucket:[],isValid:!0}},props:{rules:{type:Array,default:function(){return[]}},errorCount:{type:[Number,String],default:1}},computed:{hasError:function(){return!!this.errorBucket.length}},created:function(){var t;null===(t=this.form)||void 0===t||t.register(this)},destroyed:function(){var t;null===(t=this.form)||void 0===t||t.unregister(this)},methods:{validate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value;return this.rules.length&&(this.errorBucket=[],this.isValid=!0,this.rules.forEach((function(n){var i="function"==typeof n?n(t,e):n;!1!==i&&"string"!=typeof i||(t.isValid=!1,t.errorBucket.push(i||"Невалидное значение!"))}))),this.errorBucket.splice(parseInt(this.errorCount,10)),this.isValid},resetValidate:function(){this.errorBucket=[],this.isValid=!0}}}},52512:function(t,e,n){"use strict";n.r(e),n.d(e,{isDesktop:function(){return s},isTablet:function(){return a},isMobile:function(){return c}});var i=n(93574),r=n(34023),o=(0,i.Z)(),s=o===r.q5,a=o===r.EV,c=o===r.Jq},93574:function(t,e,n){"use strict";var i=n(34023),r=n(7669);e.Z=function(){var t=window.innerWidth;return t<r.u?i.Jq:t>=r.u&&t<r.Y?i.EV:i.q5}},16036:function(t,e){"use strict";e.Z="rtl"===document.dir},74152:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var i=n(59713),r=n.n(i),o=n(34575),s=n.n(o),a=n(93913),c=n.n(a);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={containerClass:"loader",itemClass:"loader__item",inlineClass:"loader_inline",isInline:!1},p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this,t),this.props=u(u({},d),e),this.container=null,this.loader=null,this.init()}return c()(t,[{key:"init",value:function(){var t=this.props,e=t.containerClass,n=t.itemClass,i=t.inlineClass,r=t.isInline;this.container=document.createElement("div"),this.container.classList.add(e),r&&this.container.classList.add(i),this.indicator=document.createElement("div"),this.indicator.classList.add(n),this.container.appendChild(this.indicator)}},{key:"render",value:function(){return this.container}}]),t}()},27208:function(t,e,n){"use strict";n.d(e,{lc:function(){return i},NB:function(){return r},BC:function(){return o},A9:function(){return s},$$:function(){return a},i6:function(){return c},T2:function(){return l},DH:function(){return u},S7:function(){return d},$5:function(){return p}});var i="/_sysimg/map/dot-map.svg",r=[56,56],o=[-28,-28],s="/_sysimg/map/location.svg",a=[40,40],c=[-20,-40],l="/_sysimg/map/cluster.svg",u="/_sysimg/map/cluster",d=[40,40],p="var(--color-text)"},56968:function(t,e,n){"use strict";n.d(e,{VB:function(){return i},oh:function(){return r},D0:function(){return o}});var i="mapView.clickPoint",r="mapView.changeBounds",o="mapView.createdCluster"},35249:function(t,e,n){"use strict";n.d(e,{Z:function(){return K}});var i=n(87757),r=n.n(i),o=n(48926),s=n.n(o),a=n(59713),c=n.n(a),l=n(34575),u=n.n(l),d=n(93913),p=n.n(d),f=n(16525),h=n.n(f),m=n(2205),v=n.n(m),b=n(78585),y=n.n(b),g=n(29754),k=n.n(g),w=n(56968),O=n(73595),S=n(74152),j=n(43572);function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x={containerSelector:".select-stock-point__map",useLoader:!1,disableScrollZoom:!1},P=function(){function t(e){u()(this,t),this.params=_(_({},x),e),this.container=document.querySelector("".concat(this.params.containerSelector)),this.mapInited=!1,this.EventsBus=O.Z,this.init()}var e,n,i,o;return p()(t,[{key:"init",value:function(){this.container?window.MAPS_API_LOADED=window.MAPS_API_LOADED||!1:console.error("Container ".concat(this.params.containerSelector," not found!"))}},{key:"showMapContainer",value:function(){this.mapLoader=(new S.Z).render(),this.container.appendChild(this.mapLoader)}},{key:"loadedMapContainer",value:function(){this.container.removeChild(this.mapLoader)}},{key:"loadApi",value:(o=s()(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var i=e.params.apiLink;e.container&&i&&(0,j.Z)(i).then((function(){t()})).catch((function(){n()})).finally((function(){window.MAPS_API_LOADED=!0}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"readyApi",value:(i=s()(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.MAPS_API_LOADED){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return t.abrupt("return",this.loadApi());case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"initMap",value:(n=s()(r().mark((function t(e){var n,i,o=this,s=arguments;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:12,i=s.length>2?s[2]:void 0,!this.mapInited){t.next=4;break}return t.abrupt("return",!1);case 4:return this.params.useLoader&&this.showMapContainer(),t.next=7,this.readyApi();case 7:return t.abrupt("return",new Promise((function(t){o.defaultState={center:o.constructor.formatCoord(e),zoom:n};var r=o.createMap(i);o.mapInited=!0,o.map=r,t()})));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"showMapByCoord",value:(e=s()(r().mark((function t(e){var n,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.coord,i=e.style,this.mapInited){t.next=4;break}return t.next=4,this.initMap(n);case 4:this.removeGeoObjects(),this.setMapToCoord({coord:n,style:i});case 6:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"setMapToCoord",value:function(t){var e=t.coord,n=t.style,i=this.constructor.formatCoord(e);this.createPlacemark({coords:i,style:n}),this.map.setCenter(i)}},{key:"setBoundsByPlacemarks",value:function(t){var e=this,n=this.constructor.getPlacemarkCoord(t[0]);if(this.mapInited)if(t.length>1){var i=this.getAllBounds();this.setBounds(i)}else this.map.setCenter(n);else this.initMap(n).then((function(){e.setBoundsByPlacemarks(t)}))}},{key:"setDefaultState",value:function(){this.map.setCenter(this.defaultState.center),this.map.setZoom(this.defaultState.zoom)}}]),t}(),C="DEFAULT",D="STOCK_INFO",M=n(27208);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=k()(t);if(e){var r=k()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return y()(this,n)}}var A={apiLink:"https://api-maps.yandex.ru/2.1/?lang=ru_RU"},$=function(t){v()(i,t);var e,n=E(i);function i(t){var e;return u()(this,i),(e=n.call(this,L(L({},A),t))).objectManager=null,e.placemarks=[],e.selectedGeoObjectId=null,e}return p()(i,[{key:"readyApi",value:(e=s()(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h()(k()(i.prototype),"readyApi",this).call(this);case 2:return t.abrupt("return",new Promise((function(t){ymaps.ready((function(){t()}))})));case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"createMap",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getControls(),n=new ymaps.Map(this.container,L(L({},this.defaultState),{},{controls:e}),{yandexMapDisablePoiInteractivity:!0});if(this.params.disableScrollZoom&&n.behaviors.disable("scrollZoom"),this.params.disableDefaultBehaviors){var r=Object.keys(n.behaviors._behaviors);n.behaviors.disable(r)}return this.params.useLoader&&this.loadedMapContainer(),n.events.add("boundschange",(function(e){t.EventsBus.emit(w.oh,e)})),n}},{key:"removeGeoObjects",value:function(){this.map.geoObjects.removeAll()}},{key:"createPlacemark",value:function(t){var e=this,n=t.coords,r=t.properties,o=t.style,s=t.activeMode,a=void 0!==s&&s,c=a?M.$$:M.NB,l=a?M.i6:M.BC,u=new window.ymaps.Placemark(i.formatCoord(n),r,L({iconLayout:"default#image",iconImageHref:a?M.A9:M.lc,iconImageSize:c,iconImageOffset:l},o));return u.events.add("click",(function(t){e.EventsBus.emit(w.VB,t.get("target").properties._data||{})})),this.placemarks.push(u),this.map.geoObjects.add(u),u}},{key:"createCluster",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.maxZoom,r=void 0===i?1/0:i;this.objectManager=new ymaps.ObjectManager({clusterize:!0,maxZoom:r,viewportMargin:4,clusterIcons:[{href:M.T2,size:M.S7,offset:M.S7.map((function(t){return-t/2}))}],geoObjectIconImageHref:M.lc,geoObjectIconImageSize:M.NB,geoObjectIconImageOffset:M.NB.map((function(t){return-t/2})),geoObjectIconLayout:"default#image"}),this.objectManager.add(t),this.map.geoObjects.add(this.objectManager),this.objectManager.objects.events.add(["click"],(function(t){var n=t.get("objectId"),i=e.objectManager.objects.getById(n);e.selectGeoObjectById(n),e.EventsBus.emit(w.VB,i.properties||{})})),this.EventsBus.emit(w.D0)}},{key:"fitAllBounds",value:function(){this.map.container.fitToViewport(),this.map.setBounds(this.map.geoObjects.getBounds(),{checkZoomRange:!0})}},{key:"setPropertyToObject",value:function(t,e){this.objectManager.objects.setObjectProperties(t,{iconContent:e})}},{key:"setActiveBalloon",value:function(t){var e=this.objectManager.getObjectState(t);e.isClustered?(this.objectManager.clusters.state.set("activeObject",this.objectManager.objects.getById(t)),this.objectManager.clusters.balloon.open(e.cluster.id)):this.objectManager.objects.balloon.open(t)}},{key:"setDefaultState",value:function(){this.map.container.fitToViewport(),h()(k()(i.prototype),"setDefaultState",this).call(this)}},{key:"setBounds",value:function(t){this.map.setBounds(t)}},{key:"getAllBounds",value:function(){return this.map.geoObjects.getBounds()}},{key:"closeAllBalloons",value:function(){this.placemarks.forEach((function(t){return t.balloon.close()}))}},{key:"getObjectIdsInMapBounds",value:function(){var t=this,e=[];return this.objectManager.objects.each((function(n){ymaps.util.bounds.containsPoint(t.map.getBounds(),n.geometry.coordinates)&&e.push(n.id)})),e}},{key:"selectGeoObjectById",value:function(t){this.selectedGeoObjectId&&this.objectManager.objects.setObjectOptions(this.selectedGeoObjectId,{iconImageHref:M.lc,iconImageSize:M.NB,iconImageOffset:M.BC}),this.objectManager.objects.setObjectOptions(t,{iconImageHref:M.A9,iconImageSize:M.$$,iconImageOffset:M.i6}),this.selectedGeoObjectId=t}},{key:"resetSelectedGeoObject",value:function(){this.selectedGeoObjectId&&this.objectManager.objects.setObjectOptions(this.selectedGeoObjectId,{iconImageHref:M.lc,iconImageSize:M.NB,iconImageOffset:M.BC})}},{key:"replaceObjectManager",value:function(t){this.objectManager=t}}],[{key:"getPlacemarkCoord",value:function(t){return t.geometry._coordinates}},{key:"addListener",value:function(t,e,n){e.events.add(t,n)}},{key:"setPlacemarkStyle",value:function(t,e){t.options.set(e)}},{key:"formatCoord",value:function(t){return"string"==typeof t?t.split(","):t}},{key:"getControls",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=[];return t===D&&e.push("default"),e}},{key:"createTemplateLayout",value:function(t,e){var n=window.ymaps.templateLayoutFactory.createClass(t,{build:function(){n.superclass.build.call(this),this.$app=e(this)},clear:function(){var t,e;null===(t=this.$app)||void 0===t||null===(e=t.$destroy)||void 0===e||e.call(t)}});return n}}]),i}(P),V=n(69100),N=n.n(V),Z=n(319),T=n.n(Z),H=n(18278);function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=k()(t);if(e){var r=k()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return y()(this,n)}}var W={apiLink:"https://maps.googleapis.com/maps/api/js"},q=function(t){v()(i,t);var e,n=R(i);function i(t){var e;return u()(this,i),(e=n.call(this,z(z({},W),t))).clusterer=null,e.placemarks=[],e.balloons=[],e.selectedGeoObjectId=null,e}return p()(i,[{key:"readyApi",value:(e=s()(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h()(k()(i.prototype),"readyApi",this).call(this));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"createMap",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getControls(),n=new google.maps.Map(this.container,z(z(z({},this.defaultState),e),{},{clickableIcons:!1}));return this.params.disableScrollZoom&&n.setOptions({gestureHandling:"cooperative"}),this.params.disableDefaultBehaviors&&n.setOptions({gestureHandling:"none",zoomControl:!1,disableDefaultUI:!0}),n.addListener("bounds_changed",(function(e){t.EventsBus.emit(w.oh,e)})),n}},{key:"removeGeoObjects",value:function(){this.placemarks.forEach((function(t){return t.setMap(null)})),this.placemarks=[]}},{key:"createPlacemark",value:function(t){var e=this,n=t.coords,r=t.style,o=t.title,s=void 0===o?null:o,a=t.objectId,c=t.properties,l=t.activeMode,u=void 0!==l&&l,d=u?M.$$:M.NB,p=new google.maps.Marker({position:i.formatCoord(n),title:s,objectId:a,icon:{url:u?M.A9:M.lc,size:N()(google.maps.Size,T()(d)),anchor:N()(google.maps.Point,T()(d.map((function(t){return t/2}))))},properties:c});return r&&i.setPlacemarkStyle(p,r),p.addListener("click",(function(){e.EventsBus.emit(w.VB,p.properties)})),this.placemarks.push(p),p.setMap(this.map),p}},{key:"createCluster",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.maxZoom,o=void 0===r?1/0:r;t.features.forEach((function(t){var n=t.geometry,r=t.properties,o=t.id,s=e.createPlacemark({coords:i.formatCoord(n.coordinates),title:r.hintContent,objectId:o,properties:r});if(r.balloonContent){var a=e.addBalloon(r.balloonContent);s.addListener("click",(function(){e.openBalloon(a,s)}))}}),this),this.clusterer=new H.Z(this.map,this.placemarks,{maxZoom:o,styles:[{textColor:M.$5,url:M.T2,size:M.S7[0],width:M.S7[1]}]}),this.placemarks.forEach((function(t){t.addListener("click",(function(){e.selectGeoObjectById(t.objectId)}))})),this.map.addListener("idle",(function(){e.EventsBus.emit(w.D0)}))}},{key:"fitAllBounds",value:function(){var t=this.getAllBounds();this.map.fitBounds(t)}},{key:"isVisiblePoint",value:function(t){var e=this.map.getBounds(),n=i.getPlacemarkById(this.placemarks,t);return e.contains(n.getPosition())}},{key:"setPropertyToObject",value:function(t,e){i.getPlacemarkById(this.placemarks,t).setLabel(e.toString())}},{key:"setActiveBalloon",value:function(t){var e=this.clusterer.getClusters().filter((function(t){return t.getSize()>1})),n=i.getPlacemarkById(this.placemarks,t),r=e.find((function(t){return t.isMarkerInClusterBounds(n)})),o=this.placemarks.findIndex((function(e){return e.objectId===t}));if(this.openBalloon(this.balloons[o],this.placemarks[o]),r){var s=r.getBounds();this.map.fitBounds(s)}}},{key:"addBalloon",value:function(t){var e=new google.maps.InfoWindow({content:t});return this.balloons.push(e),e}},{key:"openBalloon",value:function(t,e){this.balloons.forEach((function(t){return t.close()})),t.open(this.map,e)}},{key:"setBounds",value:function(t){this.map.fitBounds(t)}},{key:"getAllBounds",value:function(){var t=new google.maps.LatLngBounds;return this.placemarks.forEach((function(e){t.extend(e.getPosition())})),t}},{key:"closeAllBalloons",value:function(){this.balloons.forEach((function(t){return t.close()}))}},{key:"getObjectIdsInMapBounds",value:function(){var t=[],e=this.map.getBounds();return this.placemarks.forEach((function(n){e.contains(n.getPosition())&&t.push(n.objectId)})),t}},{key:"selectGeoObjectById",value:function(t){if(this.selectedGeoObjectId){var e=i.getPlacemarkById(this.placemarks,this.selectedGeoObjectId);e&&i.setPlacemarkStyle(e,{iconImageHref:M.lc})}var n=i.getPlacemarkById(this.placemarks,t);i.setPlacemarkStyle(n,{iconImageHref:M.A9}),this.selectedGeoObjectId=t}},{key:"resetSelectedGeoObject",value:function(){if(this.selectedGeoObjectId){var t=i.getPlacemarkById(this.placemarks,this.selectedGeoObjectId);i.setPlacemarkStyle(t,{iconImageHref:M.lc})}}}],[{key:"getPlacemarkCoord",value:function(t){return t.getPosition()}},{key:"addListener",value:function(t,e,n){e.addListener(t,n)}},{key:"setPlacemarkStyle",value:function(t,e){var n=e.iconImageSize,i=void 0===n?[48,48]:n,r=e.iconImageHref;t.setIcon({size:N()(google.maps.Size,T()(i)),url:r,origin:new google.maps.Point(0),anchor:new google.maps.Point(24,48)})}},{key:"formatCoord",value:function(t){return"string"==typeof t?N()(google.maps.LatLng,T()(t.split(","))):t}},{key:"getPlacemarkById",value:function(t,e){return t.find((function(t){return t.objectId===e}))}},{key:"getControls",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e={disableDefaultUI:!0};return t===D&&(e=z(z({},e),{},{zoomControl:!0,scaleControl:!0,fullscreenControl:!0})),e}}]),i}(P),F=n(53998);function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.YANDEX;return t===F.GOOGLE?q:$}},53998:function(t,e,n){"use strict";n.r(e),n.d(e,{YANDEX:function(){return i},GOOGLE:function(){return r}});var i="yandex",r="google"},74001:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var i=n(59713),r=n.n(i),o=n(87757),s=n.n(o),a=n(48926),c=n.n(a),l=n(35249);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t){var e=t.mapType,n=t.apiLink,i=void 0===n?null:n,r=t.mapContainerSelector,o=t.selectAction,a=t.showMap,u=void 0===a||a,p=t.mapZoom,f=void 0===p?13:p,h=t.useLoader,m=void 0===h||h,v=t.changePlacemarkOnClick,b=void 0===v||v;return{data:function(){return{selectAction:o,selectedStockOnMap:null,mapZoom:f,defaultPlacemarkStyle:{iconLayout:"default#image",iconImageHref:"/_sysimg/map/dot-map.svg",iconImageSize:[56,56],iconImageOffset:[-28,-26]},selectedPlacemarkStyle:{iconLayout:"default#image",iconImageHref:"/_sysimg/map/location.svg",iconImageSize:[48,48],iconImageOffset:[-24,-44]},mapView:null,placemarks:null}},computed:{isShowMap:function(){return u},isValidMapsParams:function(){return(i||this.apiLink)&&(e||this.mapType)}},methods:{setDefaultPlacemarkStyle:function(t){this.IMapView.setPlacemarkStyle(t,this.defaultPlacemarkStyle)},setSelectedPlacemarkStyle:function(t){var e=t.placemark,n=t.coordinates,i=this.IMapView.formatCoord(n);this.IMapView.setPlacemarkStyle(e,this.selectedPlacemarkStyle),this.mapView.map.setCenter(i)},renderMap:function(t){var e=this;return c()(s().mark((function n(){var i,r,o,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.mapsData,r=t.selectedPlacemarkCoordinates,Array.isArray(i)&&i.length&&e.mapView){n.next=4;break}return console.error("Error!"),n.abrupt("return");case 4:if((o=e.filterByCoordinates(i)).length){n.next=8;break}return console.error("Not data with coordinates"),n.abrupt("return");case 8:return a=o[0].coordinates,e.isMapShown=!0,n.next=12,e.mapView.initMap(a,e.mapZoom);case 12:e.placemarks=e.addPlacemarks({mapsData:o,selectedPlacemarkCoordinates:r}),e.mapView.setBoundsByPlacemarks(e.placemarks),e.$emit("rendered-map");case 15:case"end":return n.stop()}}),n)})))()},filterByCoordinates:function(t){return t.filter((function(t){return t.coordinates}))},addPlacemarks:function(t){var e=this,n=t.mapsData,i=t.selectedPlacemarkCoordinates;return n.map((function(t){var n=t.coordinates,r={coords:e.IMapView.formatCoord(n),properties:d({},t),style:e.defaultPlacemarkStyle},o=e.mapView.createPlacemark(r);return t.placemark=o,i&&n===i&&e.setSelectedPlacemarkStyle({placemark:o,coordinates:n}),e.IMapView.addListener("click",o,(function(){b&&(e.placemarks.forEach(e.setDefaultPlacemarkStyle),e.IMapView.setPlacemarkStyle(o,e.selectedPlacemarkStyle))})),o}))},removeGeoObjects:function(){var t;null!==(t=this.mapView)&&void 0!==t&&t.mapInited&&this.mapView.removeGeoObjects()},resetSelectedPlacemarks:function(){this.mapView.placemarks.forEach(this.setDefaultPlacemarkStyle)}},mounted:function(){if(this.isShowMap){if(!this.isValidMapsParams)return void console.error('Not params "apiLink" or "mapType"');this.IMapView=(0,l.Z)(e||this.mapType),this.mapView=new this.IMapView({apiLink:null!=i?i:this.apiLink,containerSelector:r,useLoader:m})}}}}},11154:function(t,e,n){"use strict";var i=n(59713),r=n.n(i),o=n(34575),s=n.n(o),a=n(93913),c=n.n(a),l=n(33702),u=n(319),d=n.n(u),p=n(63038),f=n.n(p);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var m="data-contact-prop",v={TEL_LINK:"tel_link",MAIL_LINK:"mail_link"},b=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({ADDRESS:"address"},v);function y(t,e){if(e.contacts){var n=f()(e.contacts,1)[0];t.messengerList.forEach((function(t){d()(document.querySelectorAll("[".concat(m,"=").concat(t,"_link]"))).forEach((function(e){if(n&&n.messengers){var i=n.messengers[t];i?e.classList.remove("hide"):e.classList.add("hide"),e.href=i}else e.classList.add("hide")}))}))}Object.keys(e).forEach((function(t){d()(document.querySelectorAll("[".concat(m,"=").concat(t,"]:not([html-immutable])"))).forEach((function(n){var i=e[t];t===b.ADDRESS&&(i=i||e.name),i?n.classList.remove("hide"):n.classList.add("hide"),function(t){return Object.values(v).includes(t)}(t)?n.href=i:n.innerHTML=i}))})),d()(document.querySelectorAll("[data-contact-container]")).forEach((function(t){d()(t.querySelectorAll("[".concat(m,"]"))).some((function(t){return!t.classList.contains("hide")}))?t.classList.remove("hide"):t.classList.add("hide")}))}var g=n(70538);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O={citySelection:"citySelection",stockSelection:"stockSelection",firstStep:null},S=function t(e){s()(this,t);var n=e.el,i=e.mixin,r=e.list;new g.default({el:n,name:"StockList",mixins:[i],data:function(){return{list:r,isMapShown:!1,showInfo:!1,currentStep:null,currentCity:null,selectedStockOnMap:null}},computed:{isCitySelection:function(){return this.currentStep===O.citySelection},isStockSelection:function(){return this.currentStep===O.stockSelection},someOfStocksHasCoords:function(){return this.currentCity.stocks.some((function(t){return t.coordinates}))},isFirstStepIsCitySelection:function(){return O.firstStep===O.citySelection}},created:function(){var t;if(1===this.list.length)O.firstStep=O.stockSelection,this.currentCity=w(w({},this.list[0]),{},{cityName:null});else if(this.list.every((function(t){return 1===t.stocks.length}))){O.firstStep=O.stockSelection,this.list=(t=[{cityName:null,stocks:[]}],r.forEach((function(e){var n;(n=t[0].stocks).push.apply(n,d()(e.stocks))})),t);var e=f()(this.list,1);this.currentCity=e[0]}else O.firstStep=O.citySelection;this.currentStep=O.firstStep},mounted:function(){var t=this;this.$on("rendered-map",(function(){t.currentCity.stocks&&Array.isArray(t.currentCity.stocks)&&t.currentCity.stocks.forEach((function(e){var n;e.placemark&&(null===(n=t.IMapView)||void 0===n||n.addListener("click",e.placemark,(function(){t.selectedStockOnMap=e})))}))}))},methods:{selectStock:function(t){this.selectAction(t,this.currentCity),this.backToFirstStep()},selectCity:function(t){1!==t.stocks.length?(this.currentCity=t,this.currentStep=O.stockSelection):this.selectAction(t.stocks[0].id,t)},backToFirstStep:function(){this.hideMap(),this.currentStep=O.firstStep},hideMap:function(){this.isMapShown=!1,this.removeGeoObjects(),this.selectedStockOnMap=null},getAddressOrName:function(t,e){return t.trim()?t:e},isCityHasMoreThanOneStock:function(t){return this.list[t]&&this.list[t].stocks.length>1},openMapHandler:function(){this.renderMap({mapsData:this.currentCity.stocks})}}})},j=n(67708),I=function t(e){s()(this,t);for(var n=e.el,i=e.mixin,r=e.list,o=e.stcComment,a=e.defaultStockId,c=0,l=0,u=window.getCookie("force_stock_id")||a,d=0;d<r.length;d+=1){var p=r[d].stocks.findIndex((function(t){var e=t.id;return parseInt(e,10)===parseInt(u,10)}));if(-1!==p){c=d,l=p;break}}new g.default({el:n,name:"StockContentVersion",components:{WSelectLight:j.Z},mixins:[i],data:function(){return{list:r,activeCityIndex:c,activeStockIndex:l,stcComment:o}},computed:{activeCity:function(){return this.list[this.activeCityIndex]},stockList:function(){return this.activeCity.stocks.map((function(t,e){var n=t.address,i=t.name,r=t.city,o=n||i;return n&&r&&(o=n.replace("".concat(r,", "),"")),{key:e,value:o}}))},cityList:function(){return this.list.map((function(t,e){return{key:e,value:t.cityName}}))},activeStock:function(){return this.activeCity.stocks[this.activeStockIndex]}},watch:{activeCityIndex:function(){this.activeStockIndex=0,this.onChangeStock()},activeStockIndex:function(){this.onChangeStock()}},mounted:function(){var t=this;this.onChangeStock(),this.$on("rendered-map",(function(){t.activeCity.stocks&&Array.isArray(t.activeCity.stocks)&&t.activeCity.stocks&&t.activeCity.stocks.forEach((function(e){var n;e.placemark&&e.id&&(null===(n=t.IMapView)||void 0===n||n.addListener("click",e.placemark,(function(){t.selectStock(e.id)})))}))}))},methods:{onChangeStock:function(){this.selectAction(this.activeStock.id,this.activeCity),this.removeGeoObjects(),this.renderMap({mapsData:this.activeCity.stocks,selectedPlacemarkCoordinates:this.activeStock.coordinates})},selectStock:function(t){var e=this.activeCity.stocks;this.activeStockIndex=e.findIndex((function(e){return e.id===t}))}}})},_=n(74001);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C={showMap:!0,containerSelector:"#select-stock-point",stocksListSelector:"#select-stock-point-list",visibleClass:"select-stock-point_visible",mapContainerSelector:".select-stock-point__map",showButtonSelector:".select-stock-point__show"},D=function(){function t(e){var n=this;s()(this,t),e&&(this.params=P(P({},C),e),this.container=document.querySelector(this.params.containerSelector),this.container?(this.initShowActions(),this.renderList(),this.params.stockDetected||(this.showDropdown(),window.setCookie("force_stock_id",this.params.defaultStockId)),this.params.list.some((function(t){var e=t.stocks.find((function(t){return t.active}));return!!e&&(y(n.params,e),!0)}))):console.error("Container ".concat(this.params.containerSelector," not found")))}return c()(t,[{key:"initShowActions",value:function(){var t=this;this.visible=!1;var e=this.container.querySelector(this.params.showButtonSelector);e&&e.addEventListener("click",(function(){t.toggleDropdown()}))}},{key:"renderList",value:function(){var t=document.querySelector(this.params.stocksListSelector);if(t&&this.params.list){var e=(0,_.Z)(P(P({},this.params),{},{selectAction:this.stockSelect.bind(this)}));if(!this.params.isContentVersion)return void new S(P({el:t,mixin:e},this.params));new I(P({el:t,mixin:e},this.params))}}},{key:"stockSelect",value:function(t,e){var n=e.stocks;this.stockSelectAction(t);var i=n.find((function(e){return e.id===t}));i&&y(this.params,i),window.EventsBus.emit(l.v,i)}},{key:"toggleDropdown",value:function(){this.visible?this.hideDropdown():this.showDropdown()}},{key:"showDropdown",value:function(){var t=this;if(!this.visible){this.container.classList.add(this.params.visibleClass),this.visible=!0;document.addEventListener("click",(function e(n){t.container.contains(n.target)||(t.hideDropdown(),document.removeEventListener("click",e,!0))}),!0)}}},{key:"hideDropdown",value:function(){this.container.classList.remove(this.params.visibleClass),this.visible=!1}},{key:"stockSelectAction",value:function(t){window.setCookie("force_stock_id",t),this.hideDropdown()}}]),t}();window.warModules=P(P({},window.warModules),{},{SelectStockPoint:D})},43572:function(t,e,n){"use strict";function i(t){return new Promise((function(e,n){if(t){var i=document.getElementsByTagName("script")[0],r=document.createElement("script");r.type="text/javascript",r.src=t,r.async=!0,r.onload=function(){e()};try{i?i.parentNode.insertBefore(r,i):document.body.parentNode.insertBefore(r,document.body)}catch(t){throw n(),new Error(t)}}}))}n.d(e,{Z:function(){return i}})},73595:function(t,e,n){"use strict";var i=new(n(70538).default)({name:"EventsBus"}),r={on:function(t,e){i.$on(t,e)},once:function(t,e){i.$once(t,e)},off:function(t,e){i.$off(t,e)},emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.$emit.apply(i,[t].concat(n))},get events(){return i._events}};e.Z=r},87102:function(t,e,n){(e=n(23645)(!1)).push([t.id,"@media only screen and (min-width:768px){.w-drop-list__list-wrapper[data-v-628312ee]{position:fixed;z-index:51;display:flex;flex-direction:column;width:max-content;min-width:var(--activator-width);max-width:640px;font-size:16px;line-height:24px;background-color:var(--color-bg-primary);border:1px solid var(--color-line);border-radius:var(--border-radius);box-shadow:var(--shadow-2dp)}}@media only screen and (max-width:767px){.w-drop-list__list-wrapper[data-v-628312ee]{font-size:14px;line-height:20px}.w-drop-list__list-wrapper[data-v-628312ee] .w-modal__content{margin:0-16px}}.w-drop-list__before[data-v-628312ee]{padding-top:8px;border-bottom:1px solid var(--color-line);box-shadow:0 4px 12px rgba(0,0,0,.04)}.w-drop-list__list[data-v-628312ee]{width:100%;margin:0;padding-top:8px;padding-bottom:8px;overflow-x:hidden;overflow-y:auto;list-style:none;scrollbar-color:rgba(0,0,0,.04) rgba(0,0,0,.16);scrollbar-width:thin}.w-drop-list__list[data-v-628312ee]::-webkit-scrollbar{width:4px}.w-drop-list__list[data-v-628312ee]::-webkit-scrollbar-track{background:rgba(0,0,0,.04)}.w-drop-list__list[data-v-628312ee]::-webkit-scrollbar-thumb{background:rgba(0,0,0,.16);border-radius:2px}.w-drop-list__after[data-v-628312ee]{padding-bottom:8px;border-top:1px solid var(--color-line)}",""]),t.exports=e},84957:function(t,e,n){(e=n(23645)(!1)).push([t.id,".w-drop-list-item[data-v-2b869da3]{padding:8px 16px;overflow:hidden;color:var(--color-text);white-space:nowrap;text-overflow:ellipsis;cursor:pointer}html[dir=rtl] .w-drop-list-item[data-v-2b869da3]{text-align:right}@media only screen and (max-width:767px){.w-drop-list-item[data-v-2b869da3]{padding:12px 16px;border-bottom:1px solid var(--color-line)}}@media only screen and (min-width:1280px){.w-drop-list-item[data-v-2b869da3]:hover{background-color:var(--color-bg-secondary)}}.w-drop-list-item_hover[data-v-2b869da3]{background-color:var(--color-bg-secondary)}.w-drop-list-item_active[data-v-2b869da3],.w-drop-list-item_active[data-v-2b869da3]:hover{background-color:var(--color-bg-tertiary)}.w-drop-list-item_divider[data-v-2b869da3]{padding:4px 16px;pointer-events:none}.w-drop-list-item_not-found[data-v-2b869da3]{color:var(--color-text-tertiary);pointer-events:none}.w-drop-list-item__divider-line[data-v-2b869da3]{height:1px;background-color:var(--color-line)}",""]),t.exports=e},4432:function(t,e,n){(e=n(23645)(!1)).push([t.id,".w-select-light_disabled .w-select-light__button[data-v-6e2fdb3e]{color:var(--color-text-disable);pointer-events:none}.w-select-light_sm .w-select-light__button[data-v-6e2fdb3e]{font-size:14px;line-height:20px}.w-select-light_sm .w-select-light__label[data-v-6e2fdb3e]{top:-4px}html:not([dir=rtl]) .w-select-light_sm .w-select-light__button-text[data-v-6e2fdb3e]{margin-right:2px}html[dir=rtl] .w-select-light_sm .w-select-light__button-text[data-v-6e2fdb3e]{margin-right:2px}.w-select-light_md .w-select-light__button[data-v-6e2fdb3e]{font-size:16px;line-height:24px}html:not([dir=rtl]) .w-select-light_md .w-select-light__button-text[data-v-6e2fdb3e]{margin-right:4px}html[dir=rtl] .w-select-light_md .w-select-light__button-text[data-v-6e2fdb3e]{margin-left:4px}.w-select-light_md .w-select-light__label[data-v-6e2fdb3e]{top:-8px}.w-select-light__main-wrapper[data-v-6e2fdb3e]{position:relative}.w-select-light__button[data-v-6e2fdb3e]{display:flex;align-items:center;background-color:transparent;border:0;outline:0}.w-select-light__button[data-v-6e2fdb3e]:focus-visible{outline:1px solid var(--color-bg-secondary-contrast)}.w-select-light__label[data-v-6e2fdb3e]{position:absolute;top:0;color:var(--color-text-tertiary);font-weight:400;font-size:12px;line-height:16px;background-color:var(--color-bg-primary);transform:translateY(-100%)}.w-select-light__icon[data-v-6e2fdb3e]{width:16px;height:16px;fill:currentColor}.w-select-light__error[data-v-6e2fdb3e]{margin-top:4px;color:var(--color-error);font-size:12px;line-height:16px}",""]),t.exports=e},78546:function(t,e,n){"use strict";n.d(e,{Z:function(){return k}});var i=n(87757),r=n.n(i),o=n(48926),s=n.n(o),a=n(39914),c=n(18463),l=n(16036),u=n(5947),d={childList:!0,subtree:!0,characterData:!0,attributes:!1},p={mixins:[a.mixin,c.Z],props:{opened:{type:Boolean,default:!1},stick:{type:String,default:u.R,validator:function(t){return[u.R,u.p].includes(t)}},closeOnClickOutside:{type:Boolean,default:!0},role:{type:String,default:"list"},customList:{type:Boolean,default:!1}},data:function(){return{$observer:null,maxHeight:null,top:null,bottom:null,left:null,right:null,activatorWidth:null,elementOverflow:null}},computed:{styles:function(){return{maxHeight:this.maxHeight,top:this.top,bottom:this.bottom,left:this.left,right:this.right,"--activator-width":this.activatorWidth}}},created:function(){this.isMobile||this.$watch("opened",this.onOpenedChange,{immediate:!0})},mounted:function(){this.isMobile||this.findParentWithOverflow()},beforeDestroy:function(){var t,e;null===(t=this.$observer)||void 0===t||t.disconnect(),null===(e=this.elementOverflow)||void 0===e||e.removeEventListener("scroll",this.close)},methods:{outsideClickHandler:function(){this.closeOnClickOutside&&this.opened&&this.close()},close:function(){this.$emit("close")},updatePositionAndDimensions:function(){var t=this;return s()(r().mark((function e(){var n,i,o,s,a,c,d,p,f,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.documentElement,i=n.clientHeight,o=n.clientWidth,s=t.getRoundedActivatorClientRect(),a=s.top,c=s.bottom,d=s.left,p=s.right,f=s.width,a>(h=i-c)?(t.top=null,t.bottom="".concat(i-a+4,"px"),t.maxHeight="".concat(a-16-4,"px")):(t.bottom=null,t.top="".concat(c+4,"px"),t.maxHeight="".concat(h-16-4,"px")),t.stick===u.R&&!l.Z||t.stick===u.p&&l.Z?(t.left="".concat(d,"px"),t.right=null):(t.right="".concat(o-p,"px"),t.left=null),t.activatorWidth="".concat(f,"px");case 6:case"end":return e.stop()}}),e)})))()},getRoundedActivatorClientRect:function(){var t=this.$refs.activator.getBoundingClientRect();return{left:Math.round(t.left),right:Math.round(t.right),top:Math.round(t.top),bottom:Math.round(t.bottom),width:Math.round(t.width)}},onOpenedChange:function(){var t=this;return s()(r().mark((function e(){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.opened){e.next=5;break}return null===(n=t.$observer)||void 0===n||n.disconnect(),t.$observer=null,null===(i=t.elementOverflow)||void 0===i||i.removeEventListener("scroll",t.close),e.abrupt("return");case 5:return e.next=7,t.$nextTick();case 7:t.updatePositionAndDimensions(),t.$observer=new MutationObserver((function(e){e.some((function(t){var e=t.type;return["childList","characterData"].includes(e)}))&&t.$nextTick(t.updatePositionAndDimensions)})),t.$observer.observe(t.$refs.listWrapper,d),t.elementOverflow.addEventListener("scroll",t.close,{once:!0});case 11:case"end":return e.stop()}}),e)})))()},findParentWithOverflow:function(){for(var t=this.$el;t;){var e=getComputedStyle(t),n=e.overflow;if("scroll"===e.overflowY||"auto"===n||"scroll"===n)break;t=t.parentElement}this.elementOverflow=t||document}}},f=function(){return Promise.all([n.e(1932),n.e(4592)]).then(n.bind(n,54592))},h={name:"WDropList",components:{WModal:f},mixins:[p],computed:{listWrapperComponent:function(){return this.isMobile?f:"div"}}},m=n(93379),v=n.n(m),b=n(87102),y=n.n(b),g={insert:"head",singleton:!1},k=(v()(y(),g),y().locals,(0,n(51900).Z)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"on-click-outside",rawName:"v-on-click-outside.static",value:t.outsideClickHandler,expression:"outsideClickHandler",modifiers:{static:!0}}],staticClass:"w-drop-list"},[n("div",{ref:"activator"},[t._t("activator")],2),t._v(" "),t.opened?n(t.listWrapperComponent,{ref:"listWrapper",tag:"component",staticClass:"w-drop-list__list-wrapper",style:t.styles,on:{close:t.close},scopedSlots:t._u([t.isMobile&&t.$slots["mobile-header"]?{key:"header",fn:function(){return[n("div",{staticClass:"wtm-h-3"},[t._t("mobile-header")],2)]},proxy:!0}:null],null,!0)},[t._v(" "),t.$slots.before?n("div",{staticClass:"w-drop-list__before"},[t._t("before")],2):t._e(),t._v(" "),t.customList?t._t("default"):n("div",{staticClass:"w-drop-list__list",attrs:{role:t.role}},[t._t("default")],2),t._v(" "),t.$slots.after?n("div",{staticClass:"w-drop-list__after"},[t._t("after")],2):t._e()],2):t._e()],1)}),[],!1,null,"628312ee",null).exports)},12924:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var i=n(59713),r=n.n(i),o="w-drop-list-item",s={name:"WDropListItem",props:{active:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},notFound:{type:Boolean,default:!1},role:{type:String,default:"listitem"}},computed:{classes:function(){var t;return t={},r()(t,o,!0),r()(t,"".concat(o,"_active"),this.active),r()(t,"".concat(o,"_hover"),this.hover),r()(t,"".concat(o,"_divider"),this.divider),r()(t,"".concat(o,"_not-found"),this.notFound),t}},methods:{scrollIntoView:function(){this.$el.scrollIntoView()}}},a=n(93379),c=n.n(a),l=n(84957),u=n.n(l),d={insert:"head",singleton:!1},p=(c()(u(),d),u().locals,(0,n(51900).Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classes,attrs:{role:t.role},on:{click:function(e){return t.$emit("click",e)}}},[t.divider?n("div",{staticClass:"w-drop-list-item__divider-line"}):t._t("default")],2)}),[],!1,null,"2b869da3",null).exports)},67708:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var i=n(93568),r=n(5947),o=n(78546),s=n(12924),a={name:"WSelectLight",components:{WDropList:o.Z,WDropListItem:s.Z},mixins:[i.Z],props:{small:{type:Boolean,default:!1},align:{type:String,default:r.R,validator:function(t){return[r.R,r.p].includes(t)}}},computed:{classes:function(){return{"w-select-light_sm":this.small,"w-select-light_md":!this.small,"w-select-light_disabled":this.disabled}}}},c=n(93379),l=n.n(c),u=n(4432),d=n.n(u),p={insert:"head",singleton:!1},f=(l()(d(),p),d().locals,(0,n(51900).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-select-light",class:t.classes,on:{click:t.toggleSelectActive}},[n("select",{attrs:{name:t.name,disabled:t.disabled,hidden:""}},[n("option",{attrs:{selected:""},domProps:{value:t.value}},[t._v(t._s(t.selectedItemTitle))])]),t._v(" "),n("div",{staticClass:"w-select-light__main-wrapper"},[n("WDropList",{attrs:{stick:t.align,opened:t.isOpened,role:"listbox"},on:{close:t.hideDropdown},scopedSlots:t._u([{key:"activator",fn:function(){return[t.showLabel?n("label",{staticClass:"w-select-light__label"},[t._v("\n          "+t._s(t.label)+"\n        ")]):t._e(),t._v(" "),t._t("activator",(function(){return[n("button",{staticClass:"w-select-light__button",attrs:{type:"button",disabled:t.disabled}},[n("span",{staticClass:"w-select-light__button-text",style:t.optionStyles[t.getItemValue(t.currentItem)],domProps:{innerHTML:t._s(t.displayedValue)}}),t._v(" "),n("svg",{staticClass:"w-select-light__icon"},[n("use",{attrs:{href:"/_sysimg/svg/ui-kit.svg#drop-down_outline-big-s"}})])])]}))]},proxy:!0}],null,!0)},[t._v(" "),t._l(t.items,(function(e,i){return n("WDropListItem",{key:i,ref:"items",refInFor:!0,attrs:{hover:t.activeIndex===i,active:t.currentItem===e,divider:t.isDivider(e),"data-locator":t.getItemValue(e),role:"option"},on:{click:function(n){return n.stopPropagation(),t.clickItemHandler(e)}}},[n("span",{staticClass:"w-select-light__item-text-wrapper",style:t.optionStyles[t.getItemValue(e)],domProps:{innerHTML:t._s(t.getItemTitle(e))}})])}))],2)],1)])}),[],!1,null,"6e2fdb3e",null).exports)}},0,[[11154,97,1932]]]);