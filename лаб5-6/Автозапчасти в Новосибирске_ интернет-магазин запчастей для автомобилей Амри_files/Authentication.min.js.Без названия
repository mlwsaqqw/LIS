(self.webpackChunkwar_lib_6=self.webpackChunkwar_lib_6||[]).push([[5797],{48320:function(n,t,e){"use strict";e.d(t,{lM:function(){return r},S1:function(){return o},DC:function(){return i},AE:function(){return c},nm:function(){return u},J_:function(){return s},z8:function(){return a},hg:function(){return f},ZB:function(){return l},G:function(){return d},BV:function(){return h},EQ:function(){return S},cH:function(){return E},Xs:function(){return m}});var r="SET_MESSAGES",o="SET_URLS",i="SET_AUTH_ERROR",c="RESET_AUTH_ERROR",u="SET_IS_USE_PHONE_MASK",s="SET_SELECTED_MODE",a="SET_AUTH_TABS",f="SET_LOGIN_FIELD",l="SET_IS_USE_VERIFICATION_CODE",d="SET_TIMER",h="SET_SOCIAL_BLOCK",S="SET_IS_LOGIN_BY_CODE",E="SET_IS_SHOW_FORM_BY_CODE",m="SET_REDIRECT_URL"},17771:function(n,t,e){"use strict";e.d(t,{c:function(){return r}});var r="AUTH_WARNING_CHECKED"},59065:function(n,t){"use strict";t.Z="webAnalytics."},29973:function(n,t,e){"use strict";e.d(t,{Ve:function(){return r},w7:function(){return o},TR:function(){return i},Gs:function(){return c}});var r="basket.change",o="basket.changed",i="basket.add",c="basket.delete"},9744:function(n,t,e){"use strict";e.d(t,{JU:function(){return o},DP:function(){return i},f1:function(){return c},L3:function(){return u},xp:function(){return s},tA:function(){return a},Wk:function(){return f},iG:function(){return l},i4:function(){return d},cp:function(){return h}});var r=e(59065),o="".concat(r.Z,"auth.FormOpen"),i="".concat(r.Z,"auth.Success"),c="".concat(r.Z,"registration.BtnRegister"),u=("".concat(r.Z,"registration.Success"),"".concat(r.Z,"search.pushSearchForm")),s="".concat(r.Z,"search.searchByLink"),a="".concat(r.Z,"search.successRequest"),f="".concat(r.Z,"basket.BtnAddToBasket"),l="".concat(r.Z,"basket.BtnSaveOrder"),d="".concat(r.Z,"order.BtnMakeOrder"),h="".concat(r.Z,"vinrequest.Success");"".concat(r.Z,"order.Success")},22031:function(n,t,e){"use strict";var r,o=e(59713),i=e.n(o),c=e(34575),u=e.n(c),s=e(93913),a=e.n(s),f=e(70538),l=e(29973),d=e(17771),h=e(9744),S=e(77968),E=e.n(S),m=e(48320),_=(r={},i()(r,m.lM,(function(n,t){n.messages=t})),i()(r,m.S1,(function(n,t){n.urls=t})),i()(r,m.DC,(function(n,t){n.authError=t})),i()(r,m.AE,(function(n){n.authError=null})),i()(r,m.nm,(function(n,t){n.isUsePhoneMask=t})),i()(r,m.J_,(function(n,t){n.selectedMode=t})),i()(r,m.z8,(function(n,t){n.authTabs=t})),i()(r,m.hg,(function(n,t){n.loginField=t})),i()(r,m.ZB,(function(n,t){n.isUseVerificationCode=t})),i()(r,m.G,(function(n,t){n.timer=t})),i()(r,m.BV,(function(n,t){n.socialBlock=t})),i()(r,m.EQ,(function(n,t){n.isLoginByCode=t})),i()(r,m.cH,(function(n,t){n.isShowFormByCode=t})),i()(r,m.Xs,(function(n,t){n.redirectUrl=t})),r);f.default.use(E());var p=new(E().Store)({strict:!0,state:{messages:{},urls:{},authTabs:{},selectedMode:null,loginField:"",timer:null,authError:null,isUsePhoneMask:!1,isUseVerificationCode:!1,socialBlock:"",isLoginByCode:!1,isShowFormByCode:!1,redirectUrl:null},getters:{fieldLabel:function(n){return n.authTabs.find((function(t){return t.name===n.selectedMode})).title}},mutations:_});function O(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function w(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?O(Object(e),!0).forEach((function(t){i()(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var g={allowedShowWarning:!1,messages:{},showWarning:!1,socialBlock:"",useVerificationCode:!1},v=function(){function n(t){u()(this,n),this.options=w(w({},g),t),this.onOpenForm=this.onOpenForm.bind(this),this.init()}return a()(n,[{key:"init",value:function(){this.addEventListeners()}},{key:"addEventListeners",value:function(){var t=this;if(document.querySelectorAll('[data-role="open-auth-form"]').forEach((function(n){n.addEventListener("click",t.onOpenForm)})),!n.checkSessionItem()&&this.options.allowedShowWarning){window.EventsBus.once(l.w7,(function(e){var r=e.summaryCount;0===e.previousSummaryCount&&1===r&&t.renderForm({warning:"firstAdd",onClose:n.setSessionItem})}))}else n.setSessionItem()}},{key:"onOpenForm",value:function(){if(window.EventsBus.emit(h.JU),this.options.showWarning&&!n.checkSessionItem())return this.renderForm({warning:"auth"}),void n.setSessionItem();this.renderForm()}},{key:"renderForm",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.warning,o=void 0===r?null:r,i=t.onClose,c=void 0===i?null:i,u=document.createElement("div");document.body.appendChild(u);var s=function(){return Promise.all([e.e(1932),e.e(8985)]).then(e.bind(e,99399))};this.app=new f.default({el:u,name:"AuthenticationRoot",store:p,render:function(t){return t(s,{props:w(w({},n.options),{},{warning:o}),on:{close:function(){"function"==typeof c&&c(),n.app.$destroy()}}})}})}}],[{key:"checkSessionItem",value:function(){return!!window.sessionStorage.getItem(d.c)}},{key:"setSessionItem",value:function(){window.sessionStorage.setItem(d.c,"true")}}]),n}();window.Authentication=v}},0,[[22031,97,1932]]]);